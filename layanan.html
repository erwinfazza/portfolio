<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="layanan.css" />
    <link rel="stylesheet" href="css/bootstrap.css" />
    
    <title>Layanan Intifazza</title>
  </head>
  <body>
    
    <div class="container">
      <main>
        <div class="py-5 text-center">
          <img class="d-block mx-auto mb-4" src="img/logo.png" alt="" width="72" height="72">
          <h2>Pesan Layanan intiFazza</h2>
          <p class="lead"> 
            Kami menyediakan Pesan Layanan Secara online agar mempermudah
            pelayanan kebutuhan anda.
          </p>
        </div>
    
          <!-- form -->
          <div class="col-md-12 col-lg-12">
            <h4 class="mb-3">Pesan Layanan</h4>
            <form name="submit-to-google-sheet" class="needs-validation" novalidate>
              <div class="row g-3">
                <div class="col-sm-6">
                  <label for="firstName" class="form-label">Nama Depan</label>
                  <input name="nama" type="text" class="form-control" id="firstName" placeholder="" value="" required>
                  <div class="invalid-feedback">
                    Valid first name is required.
                  </div>
                </div>
    
                <div class="col-sm-6">
                  <label for="lastName" class="form-label">Nama Belakang</label>
                  <input name="belakang" type="text" class="form-control" id="lastName" placeholder="" value="" required>
                  <div class="invalid-feedback">
                    Valid last name is required.
                  </div>
                </div>
    
                <div class="col-12">
                  <label for="email" class="form-label">Email <span class="text-muted">(Optional)</span></label>
                  <input name="email" type="email" class="form-control" id="email" placeholder="you@example.com">
                  <div class="invalid-feedback">
                    Please enter a valid email address for shipping updates.
                  </div>
                </div>
    
                <div class="col-12">
                  <label for="validationCustom01" class="form-label">No. Whatsapp</label>
                  <input name="wa" type="text" class="form-control" id="validationCustom01" value="" placeholder="contoh: 085712341234" required>
                  <div class="valid-feedback">
                   masukan nomor hp yang benar
                  </div>
                  
                </div>
        
                <div class="col-md-5">
                  <label for="country" class="form-label">Pilih Layanan</label>
                  <select name="layanan" class="form-select" id="country" required>
                    <option value="">Pilih...</option>
                    <option>Print</option>
                    <option>Pengetikan</option>
                    <option>Browsing</option>
                    <option value="">Pesan Barang</option>
                  </select>
                  <div class="invalid-feedback">
                    Silahkan Masukan Pilihan
                  </div>
                </div>
    
                <div class="col-md-4">
                  <label for="validationCustom04" class="form-label">halaman</label>
                  <select name="halaman" class="form-select" id="validationCustom04" required>
                    <option value="">Pilih...</option>
                    <option value="">1</option>
                    <option value="">2</option>
                    <option value="">3</option>
                    <option value="">4</option>
                    <option value="">5</option>
                    <option value="">lebih dari 5</option>                    
                  </select>
                  <div class="invalid-feedback">
                    Silahkan Masukan Pilihan
                  </div>
                </div>
    
                
                <div class="col-md-12">
                  <label for="exampleFormControlTextarea1" class="form-label">Jelaskan Keperluan layanan</label>
                  <textarea name="pesan" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>  
                </div>
              </div>
    
              <hr class="my-4">
    
              <div class="form-check">
                <input name="bayar" type="checkbox" class="form-check-input" id="same-address">
                <label class="form-check-label" for="same-address">Pembayaran dilakukan di Toko IntiFazza</label>
              </div>
    
              
              <hr class="my-4">
    
              <button class=" btn btn-primary btn-kirim" type="submit">Pesan Layanan Sekarang</button>

              <button class="btn btn-primary text-center btn-loading d-none" type="button" disabled>
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                Loading...
              </button>

              <div class="alert alert-warning alert-dismissible fade show d-none" role="alert">
                <strong>Terimakasih</strong> Pesana layanan anda kami terima, <strong>PASTIKAN NOMOR WHATSAPP ANDA BENAR</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>

            </form>
          </div>
        </div>
      </main>
      
      <!-- footer -->
      <footer class="container">
        <div class="row">
          <div class="col-md-12 text-center my-5">
           <a href="index.html">
            <button class="btn btn-primary">Kembali ke home</button>
           </a>
          </div>
          
        </div>
      </footer>

    <script>
      const scriptURL = 'https://script.google.com/macros/s/AKfycbwdpgtbVFD5aWlfeWinm_S3LOcTdHBnQjIE5ECX7KN8ga3iFKi3wVCaq0kKvuGu2n_esA/exec'
      
      const form = document.forms['submit-to-google-sheet']

      const btnLoading = document.getElementsByClassName('btn-loading')[0];
      const btnKirim = document.getElementsByClassName('btn-kirim')[0];
      const alert = document.getElementsByClassName('alert')[0];

      form.addEventListener('submit', e => {
      e.preventDefault();
      // ketika tombol di klik hilangkan tombol kirim 

      btnLoading.classList.toggle('d-none');
      btnKirim.classList.toggle('d-none');

      fetch(scriptURL, { method: 'POST', body: new FormData(form)})
      .then(response => {
        // tampilkan tombol kirim hilangkan tombol 
        btnLoading.classList.toggle('d-none');
        btnKirim.classList.toggle('d-none');
        alert.classList.toggle('d-none');

        //rest form 
        form.reset();
        console.log('Success!', response)})
      .catch(error => console.error('Error!', error.message))
      })
    </script>
      

      

    <script src="js/bootstrap.js"></script>
    <script src="js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="layanan.js"></script>
  </body>
</html>
